<nav class="py-4 bg-light">
  <div class="container col-md-12">

    <div class="text-right">

      <div class="d-inline-block px-4">
        Time in Thailand: 15:57 (GMT +7) | 1st October 2021
      </div>

      <div class="dropdown text-end d-inline-block">
        <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle">
          <img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
          <span class="username-nav">Lorem Co Ltd,</span>
        </a>
      </div>
    </div>

  </div>
</nav>

<div class="py-5  mx-auto text-center">
  <h1>Submit Tax Filing</h1>
</div>

<div class="container">

  <div class="col-md-2 col-lg-3 steps mb-5">
    <progress id="progress" value=0 max=100></progress>

    <div class="step-item">
      <button class="step-button text-center" type="button" [attr.aria-expanded]="page == 'Input Detail'"
        [ngStyle]="checkStepStyle(page)">
        1
      </button>
      <div class="step-title mt-2">
        Input Detail
      </div>
    </div>

    <div class="step-item">
      <button class="step-button text-center collapsed" type="button"
        [attr.aria-expanded]="page == 'Reviews & Confirm'">
        2
      </button>
      <div class="step-title mt-2">
        Review & Confirm
      </div>
    </div>

  </div>

  <div class="card p-5">
    <div>
      <h4>1. Tax Filing Detail</h4>
      <hr />

      <ng-container *ngIf="page == 'Input Detail'  ">

        <app-filing-type [valueSelected]="TypeOfFiling" (changeValue)="updateTypeOfFiling($event)"> </app-filing-type>

        <div class="form-row row">

          <div class="col-md-2 mb-3">
            <label for="">VAT Month <span class="require">*</span></label>

            <app-month [ItemValue]="month" (changeValue)="updateMonth($event)"></app-month>

          </div>

          <div class="col-md-2 mt-4">
            <app-year [ItemValue]="year" (changeValue)="updateYear($event)"></app-year>
          </div>

          <ng-container *ngIf="TypeOfFiling == '1'">
            <div class="col-md-2 ">
              <label for="">Type <span class="require">*</span></label>
              <select class="form-select">
                <option value="1">On-Time</option>
              </select>
            </div>

          </ng-container>



        </div>
      </ng-container>

      <ng-container *ngIf="page == 'Reviews & Confirm'  ">
        <div class="form-inline">
          <h5 class="d-inline-block col-md-2">Type of Filing</h5>
          <p class="d-inline-block col-md-2">Ordinary Filing</p>
        </div>

        <div class="form-inline">
          <h5 class="d-inline-block col-md-2">VAT Month</h5>
          <p class="d-inline-block col-md-2">{{month}} {{year}}</p>
        </div>


      </ng-container>
      <div class="d-flex mt-5">

        <h4 class="col-md-10 ">2. Tax Computation</h4>
        <span class="view-exchange-rate col-md-2" *ngIf="page == 'Input Detail'  ">View Exchange
          Rate</span>
      </div>

      <hr />

      <ng-container *ngIf="page == 'Input Detail'  ">
        <h6>Provide total value taxable eletronic service <span class="require">*</span></h6>


        <app-sale-amount [ItemValue]="saleAmount" (changeValue)="updateSaleAmout($event)"></app-sale-amount>

        <app-tax-amount [ItemValue]="taxAmount"></app-tax-amount>


        <ng-container *ngIf="TypeOfFiling == '1'">

          <h6 class="my-4">Incase of late filling and payment, or additional filling</h6>

          <app-surcharge [ItemValue]="surchage"></app-surcharge>

          <app-penalty [ItemValue]="penalty"></app-penalty>

          <app-total-amount [ItemValue]="totalAmount"></app-total-amount>

        </ng-container>

      </ng-container>


      <ng-container *ngIf="page == 'Reviews & Confirm'  ">
        <div class="row mt-3">
          <h5 class="col-md-9">Total value of taxale electronic service exclusive of VAT</h5>
          <p class="col-md-3 text-right">{{saleAmount  | number : '1.2-2'}}THB</p>
        </div>

        <div class="row mt-3">
          <div class="col-md-9">
            <h5 class="">Total VAT to be remitted</h5>
            <small>(7% of Total value of taxable
              eletronic service exclusive of VAT)</small>
          </div>

          <div class="col-md-3">
            <p class="text-right">{{taxAmount  | number : '1.2-2' }} THB</p>
          </div>
        </div>

        <div class="row mt-3">
          <h5 class=" col-md-9">Total Amount Payable</h5>
          <h5 class="col-md-3 text-right">{{totalAmount  | number : '1.2-2'}} THB</h5>
        </div>

        <h4 class="mt-5">Declaration</h4>
        <hr />
        <h6>I hereby certify that information given above are true and correct and agree to be bound by such
          information. </h6>
      </ng-container>

    </div>
  </div>

  <div class="action-tool my-5 d-flex">

    <ng-container *ngIf="page == 'Input Detail' ">
      <button class="btn btn-outline-secondary px-5 py-2 " type="button" id="btn-back" (click)="handleOnclickBack()">
        Back
      </button>
      <button class="btn btn-dark px-5 py-2 " type="button" id="btn-next" (click)="handleOnclickNext()">
        Next
      </button>
    </ng-container>

    <ng-container *ngIf="page == 'Reviews & Confirm'">
      <button class="btn btn-dark m-auto py-2 px-5 mx-auto" type="submit" (click)="submit()">
        Confiirm and Submit
      </button>
    </ng-container>

  </div>

</div>



